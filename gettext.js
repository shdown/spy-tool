const trnRu = {
    'Loadingâ€¦': 'Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°â€¦',
    'Back': 'ÐÐ°Ð·Ð°Ð´',
    'Archive is empty.': 'ÐÑ€Ñ…Ð¸Ð² Ð¿ÑƒÑÑ‚.',
    'Comments by ': 'ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ ',
    'User:': 'ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:',
    'ID or handle (for example, â€œ1â€ or â€œdurovâ€)': 'ID Ð¸Ð»Ð¸ Ð°Ð´Ñ€ÐµÑ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, â€œ1â€ Ð¸Ð»Ð¸ â€œdurovâ€)',
    'Public list:': 'Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿Ð°Ð±Ð»Ð¸ÐºÐ¾Ð²:',
    'IDs or handles; separate with commas, spaces or line feeds': 'ID Ð¸Ð»Ð¸ Ð°Ð´Ñ€ÐµÑÐ° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†; Ñ€Ð°Ð·Ð´ÐµÐ»ÑÐ¹Ñ‚Ðµ Ð·Ð°Ð¿ÑÑ‚Ñ‹Ð¼Ð¸, Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð°Ð¼Ð¸ Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°Ð¼Ð¸ ÑÑ‚Ñ€Ð¾ÐºÐ¸',
    'Fill with user subscriptions': 'Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ°Ð¼Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ',
    'Time limit, days:': 'ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, Ð² Ð´Ð½ÑÑ…:',
    'Find!': 'ÐÐ°Ð¹Ñ‚Ð¸!',
    'Archive': 'ÐÑ€Ñ…Ð¸Ð²',
    'Hello! This app can find posts made by a specific user.': 'ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð­Ñ‚Ð¾ â€” Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ² Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ.',
    'It uses the execute() method, which allows checking 25 posts per request': 'ÐžÐ½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¼ÐµÑ‚Ð¾Ð´ â€œexecute()â€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ 25 Ð¿Ð¾ÑÑ‚Ð¾Ð² Ð·Ð° Ð¾Ð´Ð¸Ð½ Ð·Ð°Ð¿Ñ€Ð¾Ñ.',
    'We are being too fast ({0})': 'Ð£Ð¼ÐµÑ€Ð¸Ð¼ Ð¿Ñ‹Ð» ({0})',
    'Getting server timeâ€¦': 'ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÑŽ Ð²Ñ€ÐµÐ¼Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°â€¦',
    'Checking userâ€¦': 'ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑŽ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñâ€¦',
    'Checking public listâ€¦': 'ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑŽ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿Ð°Ð±Ð»Ð¸ÐºÐ¾Ð²â€¦',
    'Gathering statisticsâ€¦': 'Ð¡Ð¾Ð±Ð¸Ñ€Ð°ÑŽ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒâ€¦',
    'Error gathering statistics: {0}': 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ±Ð¾Ñ€Ðµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸: {0}',
    'Searching in {0}/{1}â€¦': 'Ð˜Ñ‰Ñƒ Ð² {0}/{1}â€¦',
    '  (found {0})': ' (Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ {0})',
    'Found: {0}': 'ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: {0}',
    'Error checking {0}: {1}': 'ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ {0}: {1}',
    'Saving resultsâ€¦': 'Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÑŽ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹â€¦',
    'No subscriptions found!': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ¾Ðº Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾!',
    'Error: {0}': 'ÐžÑˆÐ¸Ð±ÐºÐ°: {0}',
    'Loadingâ€¦': 'Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°â€¦',
    'Cancel': 'ÐžÑ‚Ð¼ÐµÐ½Ð°',
    'Nothing found! ðŸ˜¢': 'ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾! ðŸ˜¢',
    'Posts founds:': 'ÐÐ°Ð¹Ð´ÐµÐ½Ñ‹ Ð¿Ð¾ÑÑ‚Ñ‹:',
    ' (new)': ' (Ð½Ð¾Ð²Ñ‹Ð¹)',
    ' (old)': ' (ÑÑ‚Ð°Ñ€Ñ‹Ð¹)',
};

const translations = {
    ru: trnRu,
    ua: trnRu,
    by: trnRu,
};

const selectTranslation = (langTag) => {
    // See RFC 4646.
    if (typeof(langTag) !== 'string')
        return undefined;
    const m = langTag.toLowerCase().match(/^[a-z]+/);
    if (m === null)
        return undefined;
    return translations[m[0]];
};

const translation = selectTranslation(navigator.language || navigator.userLanguage) || {};

export const __ = (text, ...args) => {
    let pattern = translation[text];
    if (pattern === undefined)
        pattern = text;
    return pattern.replace(/{([0-9]+)}/g, (m) => args[m[1]]);
};
